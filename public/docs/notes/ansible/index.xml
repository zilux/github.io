<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Zilux&#39;s Docs</title>
    <link>http://localhost:1313/docs/notes/ansible/</link>
    <description>Recent content on Zilux&#39;s Docs</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <atom:link href="http://localhost:1313/docs/notes/ansible/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Collections</title>
      <link>http://localhost:1313/docs/notes/ansible/collection/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/docs/notes/ansible/collection/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;http://localhost:1313/images/git.png&#34; alt=&#34;Process_Mem&#34; /&gt;&lt;/p&gt;&#xA;&lt;h1 id=&#34;installing-collections&#34;&gt;&#xA;  Installing collections&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#installing-collections&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;p&gt;Install collections for &amp;ldquo;local use&amp;rdquo;  from galaxy/git or hub.&lt;/p&gt;&#xA;&lt;h2 id=&#34;from-galaxy-with-collection-on-cmd-line&#34;&gt;&#xA;  from galaxy with collection on cmd-line&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#from-galaxy-with-collection-on-cmd-line&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ ansible-galaxy collection install community.crypto&#xA;$ ansible-galaxy collection install /tmp/community-dns-1.2.0.tar.gz -p ./collections&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;from-galaxy-by-requirements-file&#34;&gt;&#xA;  From galaxy by requirements file&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#from-galaxy-by-requirements-file&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ansible-galaxy collection install -r requirements.yml -p ./collections&#xA;&#xA;requirements.yml:&#xA;---&#xA;collections:&#xA;  - name: community.crypto&#xA;    version: 1.0.2&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;from-git-by-command-line&#34;&gt;&#xA;  from git by command-line:&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#from-git-by-command-line&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ ansible-galaxy collection install git@github.com:zilux/ziluxtool_collection.git -p ./collections&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;from-git-by-requirementsyml&#34;&gt;&#xA;  from git by requirements.yml:&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#from-git-by-requirementsyml&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ansible-galaxy collection install -r requirements.yml -p ./collections&#xA;&#xA;requirements.yml&#xA;---&#xA;collections:&#xA;  - name: git@github.com:zilux/ziluxtools_collection.git&#xA;    type: git&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;from-git-by-requirementsyml-where-galaxyyml-is-located&#34;&gt;&#xA;  from git by requirements.yml where &amp;ldquo;galaxy.yml&amp;rdquo; is located&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#from-git-by-requirementsyml-where-galaxyyml-is-located&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;---&#xA;collections:&#xA;  - name: git@github.com:zilux/justtest.git#/collections/ansible_collections/zilux/tools&#xA;    type: git&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;show-local-installed-collecitons&#34;&gt;&#xA;  Show local installed collecitons&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#show-local-installed-collecitons&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ ansible-galaxy collection list&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;When RUNNING playbook ansible looks in ./collections&#xA;then via  collections_paths  uit ansible.cfg&lt;/p&gt;</description>
    </item>
    <item>
      <title>use playbook in collection</title>
      <link>http://localhost:1313/docs/notes/ansible/play_in_collection/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/docs/notes/ansible/play_in_collection/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;http://localhost:1313/images/git.png&#34; alt=&#34;Process_Mem&#34; /&gt;&lt;/p&gt;&#xA;&lt;h1 id=&#34;playbook-calling-play-in-collection&#34;&gt;&#xA;  Playbook calling play in collection&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#playbook-calling-play-in-collection&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;p&gt;Play source vars in in first play which are also seen in play2 (import_playbook)&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;---&#xA;- name: Run play in playbooks from collection qrom.test&#xA;  hosts: localhost&#xA;  tasks:&#xA;    - ansible.builtin.debug:&#xA;        msg: play1&#xA;&#xA;    - include_vars: pipo.yml&#xA;&#xA;- name: Import a playbook&#xA;  ansible.builtin.import_playbook: qrom.test.tester&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;pipoyml&#34;&gt;&#xA;  pipo.yml&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#pipoyml&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;This file contains:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;geheim=xxxxx&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;playbookstesteryml&#34;&gt;&#xA;  playbooks/tester.yml&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#playbookstesteryml&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;The content of collections/ansible_collections/qrom/test/playbooks/tester.yml&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;---&#xA;- name: Tester in Playbooks&#xA;  hosts: localhost&#xA;  gather_facts: false&#xA;  collections:&#xA;    - qrom.tester&#xA;  vars_files:&#xA;    &amp;#34;{{ playbook_dir }}/pipo.yml&amp;#34;&#xA;&#xA;  tasks:&#xA;&#xA;    - name: Some debug&#xA;      debug:&#xA;        msg: We are doing ... {{ playbook_dir }} .&#xA;&#xA;    - name: Import a role&#xA;      ansible.builtin.import_role:&#xA;        name: tester&#xA;      vars:&#xA;        melding: not to much&#xA;&#xA;    - name: Some debug&#xA;      debug:&#xA;        msg:  geheim is {{ geheim|default(&amp;#34;nvt&amp;#34;) }}&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;output&#34;&gt;&#xA;  Output&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#output&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;p&gt;The output looks like this:&lt;/p&gt;</description>
    </item>
    <item>
      <title>ansible.cfg</title>
      <link>http://localhost:1313/docs/notes/ansible/ansible_cfg/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/docs/notes/ansible/ansible_cfg/</guid>
      <description>&lt;h2 id=&#34;example-ansiblecfg&#34;&gt;&#xA;  Example ansible.cfg&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#example-ansiblecfg&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[defaults]&#xA;inventory = hosts&#xA;roles_path = roles&#xA;collections_paths = ./collections:/usr/share/ansible/collections&#xA;retry_files_enabled = False&#xA;host_key_checking = False&#xA;ansible_managed = &amp;#34;Ansible managed using role&amp;#34;&#xA;remote_user = harry&#xA;display_skipped_hosts = yes&#xA;display_ok_hosts = yes&#xA;&#xA;[ssh_connection]&#xA;pipelining = True&#xA;&#xA;[galaxy]&#xA;server_list = ng&#xA;&#xA;[galaxy_server.ng]&#xA;url = https://galaxy.ansible.com/api/&#xA;token= xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#xA;&#xA;#&#xA;# https://ansible.readthedocs.io/projects/galaxy-ng/en/latest/community/userguide/#api&#xA;#&#xA;# # Find all roles created by a specific github user.&#xA;# curl &amp;#39;https://galaxy.ansible.com/api/v1/roles/?github_user=geerlingguy&amp;#39; | jq&#xA;&#xA;# Find all roles containing a keyword in the namespace, name or description.&#xA;# curl &amp;#39;https://galaxy.ansible.com/api/v1/roles/?keyword=docker&amp;#39; | jq&#xA;#&#xA;#&#xA;# ansible-galaxy role search --help&#xA;#&#xA;#&#xA;# ansible-galaxy collection publish --help&#xA;#&#xA;#&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Using roles/collections</title>
      <link>http://localhost:1313/docs/notes/ansible/examples_using_roles/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/docs/notes/ansible/examples_using_roles/</guid>
      <description>&lt;h2 id=&#34;using-roles-in-playbooks&#34;&gt;&#xA;  Using roles in playbooks&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#using-roles-in-playbooks&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;h3 id=&#34;with-roles-statement&#34;&gt;&#xA;  with roles statement&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#with-roles-statement&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;---&#xA;- name: Use collection&#xA;  hosts: localhost&#xA;&#xA;  roles:&#xA;    - hz.coll.pipo&#xA;    - mgrole&#xA;    - role: foo&#xA;      vars:&#xA;        dir: /opt/pipo&#xA;        app_port: 5001&#xA;      tags: mytag&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Also like this &amp;hellip;&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;---&#xA;- name: Use roles&#xA;  hosts: localhost&#xA;&#xA;  roles:&#xA;    - { role: foo, mes: &amp;#39;aap&amp;#39; }&#xA;    - { role: nah, mes: &amp;#39;noot&amp;#39; }&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;with-include_role-module&#34;&gt;&#xA;  With include_role module&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#with-include_role-module&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;---&#xA;- name: include stuff&#xA;  include_role:&#xA;    name: foo_app&#xA;  vars:&#xA;    dir: /tmp/pipo&#xA;    port: 9090&#xA;  tags: &#xA;    - tag1&#xA;    - tag2&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;include-role-and-run-task-from-it&#34;&gt;&#xA;  Include role and run task from it&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#include-role-and-run-task-from-it&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;- include_role:&#xA;    name: let_scammer&#xA;    task_from: invate.yml&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;  &#xA;&#xA;&lt;a  href=&#34;http://localhost:1313/&#34;   class=&#34;book-btn&#34;&gt;&#xA;  Go Home&#xA;&lt;/a&gt;</description>
    </item>
    <item>
      <title>Template New</title>
      <link>http://localhost:1313/docs/notes/ansible/new/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/docs/notes/ansible/new/</guid>
      <description>&lt;h1 id=&#34;process_memimagesgitpng&#34;&gt;&#xA;  &lt;img src=&#34;http://localhost:1313/images/git.png&#34; alt=&#34;Process_Mem&#34; /&gt;&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#process_memimagesgitpng&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h1 id=&#34;hahahugoshortcode20s0hbhb&#34;&gt;&#xA;  &#xA;&#xA;&#xA;&#xA;  &#xA;&#xA;&lt;a  href=&#34;http://localhost:1313/&#34;   class=&#34;book-btn&#34;&gt;&#xA;  Go Home&#xA;&lt;/a&gt;&#xA;&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#hahahugoshortcode20s0hbhb&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;</description>
    </item>
  </channel>
</rss>
